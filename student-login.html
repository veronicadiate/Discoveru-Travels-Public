<!doctype html>
<html lang="en">
<head>
    <title>DiscoverU Travel Deals</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" href="images/icons/favicon.png" type="image/x-icon">
    <!-- Google Fonts -->   
    <link href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i,900,900i%7CMerriweather:300,300i,400,400i,700,700i,900,900i" rel="stylesheet">
    
    <!-- Bootstrap Stylesheet -->   
    <link rel="stylesheet" href="css/bootstrap-4.4.1.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    

    <!-- Sidebar Stylesheet -->
    <link rel="stylesheet" type="text/css" href="css/jquery.mCustomScrollbar.min.css">
    
    <!-- Font Awesome Stylesheet -->
    <link rel="stylesheet" href="css/font-awesome.min.css">
        
    <!-- Custom Stylesheets --> 
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" id="cpswitch" href="css/orange.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>

<body style="background: url('images/login-cover.png'); background-size: cover; background-repeat: no-repeat; background-position: center;" id="full-page-form">
  <!--====== LOADER =====-->
  <div class="loader"></div>
      <!--===== FULL-PAGE-FORM ====-->
    <div class="items-list active" style="font-size: 17px; font-family: sans-serif; color: black; margin-left: 100px;">
        <a href="discoveru.html">Home</a>
    </div>
    <div class="full-page-title">
        <img src="images/icons/favicon.png" style="height: 180px; width: 180px">
    </div><!-- end full-page-title -->
    <!-- login -->
    <div class="custom-form custom-form-fields" id="loginSection">
      <h3>Login</h3>
        <p class="text-center">Don't have an account yet? <a href="#" onclick="toggleForm('registrationForm')">Register</a> instead.</p>
        <p class="text-center">Or login as <a href="admin-login.html")>Admin</a> instead.</p>
      <form onsubmit="return validateLoginForm()" action="https://www.google.com/" id="loginForm">
        <div class="form-floating mb-3 mt-3">
          <input type="text" class="form-control" id="email" placeholder="Enter email" name="email" required>
          <label for="email">Email</label>
        </div>
        <div class="form-floating mt-3 mb-3">
          <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="pswd" required>
          <label for="pwd">Password</label>
        </div>
        <div class="login-button">
          <button onclick="redirectToDiscoveruLoggedIn()" type="button" class="btn btn-primary" style="border-radius: 500px;">Login</button>
        </div>
      </form>
        <div class="text-center"> 
          <br>
          <br>
          <p>Login with</p>
        </div>
          <div class="text-center">
            <button class="btn btn-primary btn-icon" onclick="loginWithFacebook()">
              <img src="images/icons/facebook.png" alt="Facebook Icon" style="height: 40px; width: 40px;">
            </button>
            <button class="btn btn-info btn-icon" onclick="loginWithTwitter()">
              <img src="images/icons/twitter.png" alt="Twitter Icon" style="height: 40px; width: 40px;">
            </button>
            <button class="btn btn-danger btn-icon" onclick="loginWithGmail()">
              <img src="images/icons/gmail.png" alt="Gmail Icon" style="height: 40px; width: 40px;">
            </button>
          </div>
        </div><!-- end custom-form -->
        <!-- Register -->
        <div>
          <div class="custom-form custom-form-fields" id="registrationSection" style="display: none;">
            <h3 class="text-center">Register</h3>
            <p class="mt-3 text-center">Already have an account?<a href="#" onclick="toggleForm('loginForm')">Login instead.</a></p>

            <form onsubmit="return validateRegistrationForm()" id="registrationForm">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="fullName" placeholder="Enter full name" name="fullName" required>
                    <label for="fullName">Full Name</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="email" class="form-control" id="email" placeholder="Enter email" name="email" required>
                    <label for="email">Email</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="schoolOrg" placeholder="Enter School/Organization" name="schoolOrg" required>
                    <label for="schoolOrg">School/Organization</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="password" class="form-control" id="signupPwd" placeholder="Set password" name="signupPwd" required>
                    <label for="signupPwd">Password</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="password" class="form-control" id="confirmPwd" placeholder="Confirm password" name="confirmPwd" required>
                    <label for="confirmPwd">Confirm Password</label>
                </div>
                <div class="login-button">
                    <button type="submit" class="btn btn-primary" style="border-radius: 500px;">Sign Up</button>
                </div>
            </form>
          </div>
        </div>
        <div class="full-page-copyright">
            <p >Â© 2023 Discoveru Travels. All rights reserved.</p>
        </div>   
      </div><!-- end columns -->
  </div>  
   
  <!-- Page Scripts Starts -->
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="js/bootstrap-4.4.1.min.js"></script>
  <script src="js/custom-navigation.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Store registered users in an object (replace with your actual data)
    const registeredUsers = {
      "registered_user@example.com": {
        fullName: "Registered User",
        email: "registered_user@example.com",
        schoolOrg: "Sample School",
        signupPwd: "password123",
      },
    };

    // Function to validate the login form
    function validateLoginForm() {
      var email = document.getElementById("email").value;
      var password = document.getElementById("pwd").value;

      // Check if the entered email exists in the registeredUsers object
      if (email in registeredUsers) {
        var user = registeredUsers[email];

        // Check if the entered password matches the stored password
        if (password === user.signupPwd) {
          redirectToDiscoveruLoggedIn();
          return false; // Prevent form submission
        } else {
          alert("Invalid password. Please try again.");
          return false;
        }
      } else {
        alert("Email not recognized. Please register first.");
        return false;
      }
    }

    // Function to validate the registration form and store the credentials
    function validateRegistrationForm() {
      var fullName = document.getElementById("fullName").value;
      var email = document.getElementById("email").value;
      var schoolOrg = document.getElementById("schoolOrg").value;
      var signupPwd = document.getElementById("signupPwd").value;
      var confirmPwd = document.getElementById("confirmPwd").value;

      if (
        fullName.trim() === "" ||
        email.trim() === "" ||
        schoolOrg.trim() === "" ||
        signupPwd.trim() === "" ||
        confirmPwd.trim() === ""
      ) {
        alert("Please fill in all the required fields.");
        return false;
      }

      if (signupPwd !== confirmPwd) {
        alert("Passwords do not match.");
        return false;
      }

      // Check if the email is already registered
      if (email in registeredUsers) {
        alert("Email already registered. Please use a different email.");
        return false;
      }

      // Store the new user's data in the registeredUsers object
      registeredUsers[email] = {
        fullName: fullName,
        email: email,
        schoolOrg: schoolOrg,
        signupPwd: signupPwd,
      };

      alert("Registration successful. You can now log in.");

      // Automatically switch to the login form after successful registration
      toggleForm("loginForm");

      // Prevent form submission for demonstration purposes
      return false;
    }

    // Function to toggle between login and registration forms
    function toggleForm(formId) {
      var loginSection = document.getElementById("loginSection");
      var registrationSection = document.getElementById("registrationSection");

      if (formId === "loginForm") {
        loginSection.style.display = "block";
        registrationSection.style.display = "none";
      } else {
        loginSection.style.display = "none";
        registrationSection.style.display = "block";
      }
      return false; // Prevent default anchor link behavior
    }

    function redirectToDiscoveruLoggedIn() {
      window.location.href = "discoveruloggedin.html";
    }

    function redirectToLogin() {
      window.location.href = "login.html";
    }
  </script>
</body>
</html>
